# 贪吃蛇游戏（Rust + Piston）
本项目只为了完成南京理工大学软件工程职业实践课程设计

一个使用 Rust 与 Piston 引擎开发的现代贪吃蛇，提供多种模式、速度选择、暂停与菜单等完整体验。

## 功能特性

- **多模式**
  - 经典模式：标准速度的传统玩法。
  - 速度模式：进入该模式后先选择速度（慢/中/快，默认中速）。吃得越多速度还会随分数提升。
  - 限时模式（原“生存模式”）：初始 60 秒倒计时；每吃一个食物 +10 秒；固定最快速；倒计时归零立即结束并展示最终分数。
- **速度选择与确认**：在模式页点击 SPEED 后进入速度选择页，选择慢/中/快后会弹出确认框，确认后直接开始游戏。
- **自适应窗口**：自动根据窗口尺寸缩放并居中游戏区域。
- **暂停菜单**：右上角菜单按钮或按 ESC 可打开游戏内菜单（暂停/继续、重开、返回主菜单、关闭菜单）。

## 操作说明

- 蛇的移动：方向键（↑↓←→）或 WASD。
- 菜单与暂停：
  - 主界面：鼠标点击“START GAME / EXIT GAME”。
  - 模式选择：点击 CLASSIC / SPEED / SURVIVAL（限时）/ BACK。
  - 游戏中：
    - 右上角按钮可打开菜单；
    - ESC 打开/关闭游戏内菜单；
    - 菜单内可暂停/继续、重新开始或返回主菜单。

## 游戏规则与显示

- 基础：吃到食物得 1 分；撞墙或咬到自己则失败。
- 速度模式：基础更快，且分数越高速度越快。
- 限时模式：
  - 初始剩余时间 60 秒，右上角显示 mm:ss 倒计时；
  - 每吃到一个食物，剩余时间 +10 秒；
  - 始终以最快速度进行；
  - 时间归零立即结束游戏并弹出最终分数。
- 屏幕信息：
  - 左上角显示分数（SCORE）；
  - 右上角在限时模式显示倒计时（TIME mm:ss）；
  - 暂停时屏幕中央显示 PAUSED。

## 构建与运行

前置要求：安装 Rust 稳定版工具链（rustup + cargo）。

开发运行：
```bash
cargo run
```

发布构建：
```bash
cargo build --release
# 可执行文件路径：target/release/snake（Windows 为 snake.exe）
```

运行注意：
- 程序需要从项目根目录运行，以便找到 `assets/FiraSans-Regular.ttf`；
- 如需在可执行文件目录直接运行，请确保将 `assets/` 目录一并放到可执行文件同级目录或正确设置工作目录。

## 目录结构

```
src/
├── main.rs      # 程序入口，事件循环、窗口与场景调度
├── menu.rs      # 主菜单、模式/速度选择、游戏内菜单与文案绘制
├── game.rs      # 游戏主逻辑（更新、碰撞、计时、得分、渲染）
├── snake.rs     # 蛇的数据结构与前进/增长逻辑
└── draw.rs      # 基础绘制与坐标换算工具

assets/
└── FiraSans-Regular.ttf  # 字体文件
```

## 依赖栈

- piston_window（窗口与渲染）
- rand（食物生成随机数）
- rusttype（字体加载，项目内主要使用简化像素文本绘制）



