# 贪吃蛇游戏（Rust + Piston）
本项目只为了完成南京理工大学软件工程职业实践课程设计

一个使用 Rust 与 Piston 引擎开发的现代贪吃蛇，提供多种模式、速度选择、暂停与菜单等完整体验。

## 功能特性

- **多模式**
  - 经典模式：标准速度的传统玩法。
  - 速度模式：进入该模式后先选择速度（慢/中/快，默认中速）。吃得越多速度还会随分数提升。
  - 限时模式（原"生存模式"）：初始 30 秒倒计时；每吃一个食物 +10 秒；固定最快速；倒计时归零立即结束并展示最终分数。
  
- **大食物机制** 🎯
  - 每 8 秒自动生成一个大食物（2x2 方块，橙色）
  - 吃到大食物得 3 分（普通食物得 1 分）
  - 大食物存在 5 秒后自动消失
  - 在限时模式下，吃到大食物额外增加 30 秒时间
  
- **实时游戏信息** 📊
  - 游戏右侧实时显示加分提示
  - 吃普通食物：显示绿色 "+1 Point"
  - 吃大食物：显示橙色 "Big Food +3 Points!"
  - 限时模式下额外显示时间奖励（绿色 "+10 Seconds" 或 "+30 Seconds"）
  - 每个提示显示 5 秒后自动淡出消失
  
- **速度选择与确认**：在模式页点击 SPEED 后进入速度选择页，选择慢/中/快后会弹出确认框，确认后直接开始游戏。
- **自适应窗口**：自动根据窗口尺寸缩放并居中游戏区域。
- **暂停菜单**：右上角菜单按钮或按 ESC 可打开游戏内菜单（暂停/继续、重开、返回主菜单、关闭菜单）。

## 操作说明

- 蛇的移动：方向键（↑↓←→）或 WASD（建议使用↑↓←→）。
- 菜单与暂停：
  - 主界面：鼠标点击“START GAME / EXIT GAME”。
  - 模式选择：点击 CLASSIC / SPEED / SURVIVAL（限时）/ BACK。
  - 游戏中：
    - 右上角按钮可打开菜单；
    - ESC 打开/关闭游戏内菜单；
    - 菜单内可暂停/继续、重新开始或返回主菜单。

## 游戏规则与显示

### 基础规则
- 吃到普通食物（红色小块）：得 1 分，蛇身增长 1 格
- 吃到大食物（黄色 2x2 方块）：得 3 分，蛇身增长 3 格
- 撞墙或咬到自己：游戏失败

### 游戏模式

**经典模式**
- 标准速度
- 无限时间
- 只显示分数

**速度模式**
- 速度更快
- 分数越高，速度提升越快
- 只显示分数

**限时模式**
- 初始剩余时间：30 秒
- 每吃一个普通食物：+10 秒
- 每吃一个大食物：+30 秒
- 始终以最快速度进行
- 时间归零立即结束
- 右上角显示倒计时（TIME mm:ss）

### 屏幕信息显示

- **左上角**：当前分数（SCORE: xxx）
- **右上角**：限时模式倒计时（TIME mm:ss）
- **游戏右侧**：实时加分提示（显示 5 秒后淡出）
  - 绿色文字：普通食物 "+1 Point"、时间奖励 "+10 Seconds"
  - 橙色文字：大食物 "Big Food +3 Points!"、时间奖励 "+30 Seconds"
- **屏幕中央**：暂停时显示 "PAUSED"

## 构建与运行

前置要求：安装 Rust 稳定版工具链（rustup + cargo）。

开发运行：
```bash
cargo run
```

release：
```bash
cargo build --release
# 可执行文件路径：target/release/snake（Windows 为 snake.exe）
```

运行注意：
- 程序需要从项目根目录运行，以便找到 `assets/FiraSans-Regular.ttf`；
- 如需在可执行文件目录直接运行，请确保将 `assets/` 目录一并放到可执行文件同级目录或正确设置工作目录。

## 目录结构

```
src/
├── main.rs      # 程序入口，事件循环、窗口与场景调度
├── menu.rs      # 主菜单、模式/速度选择、游戏内菜单与文案绘制
├── game.rs      # 游戏主逻辑（更新、碰撞、计时、得分、渲染、大食物生成、消息系统）
├── snake.rs     # 蛇的数据结构与前进/增长逻辑
└── draw.rs      # 基础绘制与坐标换算工具

assets/
└── FiraSans-Regular.ttf  # 字体文件
```


## 依赖栈

- **piston_window** - 窗口与渲染引擎
- **rand** - 随机数生成器（用于食物和大食物的随机位置生成）
- **rusttype** - 字体加载与渲染支持

## 开发说明

本项目为南京理工大学软件工程职业实践课程设计作品，使用 Rust 语言和 Piston 图形库开发。


### 后续优化建议
- [ ] 添加音效和背景音乐
- [ ] 添加最高分记录功能
- [ ] 增加难度等级选择
- [ ] 支持自定义蛇和食物颜色
- [ ] 添加多人在线对战模式

## 许可证

本项目仅用于课程设计展示，请勿用于商业用途。


